import{_ as h,u as y,r as d,a as V,c as b,o as x,b as m,d as s,w as a,E,e as k,f as F,g as L,h as B,i as R,j as I,k as p,l as N}from"./index-B5CDqZvv.js";/* empty css                     *//* empty css                 */const S={class:"login-container"},U={class:"login-card"},q={__name:"Login",setup(z){const c=N(),_=y(),r=d(),t=d(!1),o=V({username:"",password:""}),g={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},l=async()=>{if(!(!r.value||!await r.value.validate().catch(()=>!1))){t.value=!0;try{await _.login(o.username,o.password),p.success("登录成功"),c.push("/dashboard")}catch(e){p.error(e.message||"登录失败")}finally{t.value=!1}}};return(f,e)=>{const u=k,n=E,v=L,w=I;return x(),b("div",S,[m("div",U,[e[3]||(e[3]=m("h2",{class:"login-title"},"管理员登录",-1)),s(w,{ref_key:"loginFormRef",ref:r,model:o,rules:g,class:"login-form",onSubmit:R(l,["prevent"])},{default:a(()=>[s(n,{prop:"username"},{default:a(()=>[s(u,{modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=i=>o.username=i),placeholder:"请输入用户名","prefix-icon":"User",size:"large"},null,8,["modelValue"])]),_:1}),s(n,{prop:"password"},{default:a(()=>[s(u,{modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=i=>o.password=i),type:"password",placeholder:"请输入密码","prefix-icon":"Lock",size:"large",onKeyup:F(l,["enter"])},null,8,["modelValue"])]),_:1}),s(n,null,{default:a(()=>[s(v,{type:"primary",class:"login-button",loading:t.value,onClick:l},{default:a(()=>e[2]||(e[2]=[B(" 登录 ",-1)])),_:1,__:[2]},8,["loading"])]),_:1})]),_:1},8,["model"])])])}}},j=h(q,[["__scopeId","data-v-d9891d7e"]]);export{j as default};
